// AvesAblaze code as of 2-20-21
package org.firstinspires.ftc.teamcode;

//import com.disnodeteam.dogecv.CameraViewDisplay;
//import com.disnodeteam.dogecv.DogeCV;
//import com.disnodeteam.dogecv.detectors.roverrukus.SamplingOrderDetector;
import com.qualcomm.robotcore.eventloop.opmode.LinearOpMode;
import com.qualcomm.robotcore.eventloop.opmode.TeleOp;
import com.qualcomm.robotcore.util.Range;
//import com.disnodeteam.dogecv.detectors.roverrukus.GoldAlignDetector;


/**
 * Created by femukund on 10/29/2017.
 */

@TeleOp
public class AvesBotDrive extends LinearOpMode {
    Robot robot = new Robot();

    //GoldAlignDetector goldDetector;
    //SamplingOrderDetector detector;

    double[] p = {1, 1, 1, 1};
    //leftfront = 0
    //rightfront = 1
    //leftback = 2
    //rightback = 3

    @Override
    public void runOpMode() {
        robot.init(hardwareMap);
        telemetry.addData("Status", "Initialized");
        telemetry.update();


        // Wait for game to start (driver presses PLAY
        waitForStart();

        // run until driver presses STOP
        while (opModeIsActive())
        //while (opModeIsActive() && (runtime.seconds() < 31.0))
        {
            //testWheelServo();
            driveWithTwoJoysticks();
            driveArm();
            driveLauncher();
            pushRings();
            grabWobbler();
            intakeMotor();
        }
    }


    // drive with joysticks
    public void driveWithTwoJoysticks() {
        double max;
        // Run wheels in POV mode (note: The joystick goes negative when pushed forwards, so negate it)
        // In this mode the Left stick moves the robot fwd and back and crabs left and right,
        // the Right stick tank turns left and right
        double speedLF = -(gamepad1.left_stick_y - gamepad1.left_stick_x + gamepad1.right_stick_x);
        double speedLB = (gamepad1.left_stick_y + gamepad1.left_stick_x + gamepad1.right_stick_x);
        double speedRF = (gamepad1.left_stick_y + gamepad1.left_stick_x - gamepad1.right_stick_x);
        double speedRB = (gamepad1.left_stick_y - gamepad1.left_stick_x - gamepad1.right_stick_x);


        // Clip values so that they are within -1 & +1
        speedLF = Range.clip(speedLF, -1, 1);
        speedLB = Range.clip(speedLB, -1, 1);
        speedRF = Range.clip(speedRF, -1, 1);
        speedRB = Range.clip(speedRB, -1, 1);

        // Set speed to motors
        //leftfront = 0
        //rightfront = 1
        //leftback = 2
        //rightback = 3
        robot.leftFrontDrive.setPower(p[0] * speedLF);
        robot.leftBackDrive.setPower(speedLB);
        robot.rightFrontDrive.setPower(p[1] * speedRF);
        robot.rightBackDrive.setPower(speedRB);
    }

    public void driveArm() {
        if (gamepad2.dpad_down) {
            robot.armMotor.setPower(-0.5);
        }
        if (gamepad2.dpad_right) {
            robot.armMotor.setPower(0.05);
        }
        if (gamepad2.dpad_up) {
            robot.armMotor.setPower(0.5);
        }
    }
    public void driveLauncher() {
        if (gamepad2.a){
            robot.launchMotor.setPower(-1);
        }
        if (gamepad2.b){
            robot.launchMotor.setPower(0);
        }

    }
    public void pushRings() {
        if (gamepad2.right_bumper){
            robot.launchServo.setPosition(0.75);
        }
        if (gamepad2.left_bumper){
            robot.launchServo.setPosition(-0.5);
        }
    }
    public void grabWobbler() {
        if (gamepad2.x){
            robot.wobblerServo.setPosition(0.7);
        }
        if (gamepad2.y){
            robot.wobblerServo.setPosition(0.2);
        }
    }
    public void intakeMotor() {
        if (gamepad1.right_bumper){
            robot.intakeMotor.setPower(0.92);
        }
        if (gamepad1.left_bumper){
            robot.intakeMotor.setPower(0);
        }
        if (gamepad1.x) {
            robot.intakeMotor.setPower(-0.9);
        }
    }

//    public void testWheelServo () {
//        if (gamepad1.a)
//        {
//            robot.leftServo.setPosition(1);
//            robot.rightServo.setPosition(-1);
//        }
//        if (gamepad1.b)
//        {
//            robot.leftServo.setPosition(-1);
//            robot.rightServo.setPosition(1);
//        }
    }

